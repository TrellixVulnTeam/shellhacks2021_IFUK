{"ast":null,"code":"var _jsxFileName = \"/Users/sanyagoyal/Desktop/React/shellhacks/src/pages/chats.js\",\n    _s = $RefreshSig$();\n\nimport { useRef, useState, useEffect } from 'react';\nimport Header from '../components/Header';\nimport { useHistory } from 'react-router-dom';\nimport { ChatEngine } from 'react-chat-engine';\nimport { auth } from \"../firebase\";\nimport Button from \"@material-tailwind/react/Button\";\nimport { useAuth } from '../contexts/AuthContext';\nimport axios from 'axios'; //import LogoutIcon from '@material-ui/icons/Logout';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Chats() {\n  _s();\n\n  const history = useHistory();\n  const {\n    user\n  } = useAuth();\n  const [loading, setLoading] = useState(true); //console.log(user);\n\n  const handleLogout = async () => {\n    await auth.signOut();\n    history.push('/');\n  };\n\n  const getFile = async url => {\n    const response = await fetch(url);\n    const data = response.blob();\n    return new File([data], 'userPhoto.jpg', {\n      type: 'image/jpeg'\n    });\n  };\n\n  useEffect(() => {\n    if (!user) {\n      history.push('/');\n      return;\n    }\n\n    axios.get('https://api.chatengine.io//users/me', {\n      headers: {\n        \"project-id\": \"f5c4182d-069e-4b2a-88ab-a1cfd27f671d\",\n        \"user-name\": user.email,\n        \"user-secret\": user.uid\n      }\n    }).then(() => {\n      setLoading(false);\n    }).catch(() => {\n      let formdata = new FormData();\n      formdata.append('email', user.email);\n      formdata.append('username', user.displayName);\n      formdata.append('secret', user.uid);\n      getFile(user.photoUrl).then(avatar => {\n        formdata.append('avatar', avatar, avatar.name);\n        axios.post('https://api.chatengine.io/users', formData);\n      });\n    });\n  }, [user, history]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      color: \"gray\",\n      buttonType: \"outline\",\n      iconOnly: true,\n      rounded: true,\n      ripple: \"dark\",\n      onClick: handleLogout,\n      className: \"border-0\",\n      children: \"Log Out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ChatEngine, {\n      height: \"100vh\",\n      projectID: \"f5c4182d-069e-4b2a-88ab-a1cfd27f671d\",\n      userName: \"sanyagoyal2000\",\n      userSecret: \"123123\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Chats, \"SA5Aa87JpxYxTFHRsLgdx1bQT2Q=\", false, function () {\n  return [useHistory, useAuth];\n});\n\n_c = Chats;\nexport default Chats;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chats\");","map":{"version":3,"sources":["/Users/sanyagoyal/Desktop/React/shellhacks/src/pages/chats.js"],"names":["useRef","useState","useEffect","Header","useHistory","ChatEngine","auth","Button","useAuth","axios","Chats","history","user","loading","setLoading","handleLogout","signOut","push","getFile","url","response","fetch","data","blob","File","type","get","headers","email","uid","then","catch","formdata","FormData","append","displayName","photoUrl","avatar","name","post","formData"],"mappings":"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","sourcesContent":["import {useRef,useState,useEffect} from 'react';\nimport Header from '../components/Header';\nimport {useHistory} from 'react-router-dom';\nimport {ChatEngine} from 'react-chat-engine';\nimport {auth} from \"../firebase\";\nimport Button from \"@material-tailwind/react/Button\";\nimport {useAuth} from '../contexts/AuthContext';\nimport axios from 'axios';\n//import LogoutIcon from '@material-ui/icons/Logout';\n\nfunction Chats() {\n    const history =useHistory();\n\n    const {user} =useAuth();\n    const [loading,setLoading]=useState(true);\n        //console.log(user);\n    const handleLogout=async () =>{\n        await auth.signOut();\n        history.push('/');\n\n    }\n\n    const getFile= async(url)=>{\n        const response=await fetch(url);\n        const data=response.blob();\n\n        return new File([data],'userPhoto.jpg',{type:'image/jpeg'});\n\n    }\n   useEffect(()=>{\n       if(!user){\n        history.push('/');\n        return;\n       }\n       axios.get('https://api.chatengine.io//users/me',{\n           headers:{\n            \"project-id\":\"f5c4182d-069e-4b2a-88ab-a1cfd27f671d\",\n            \"user-name\":user.email,\n            \"user-secret\":user.uid,\n           }\n       }).then(()=>{\n           setLoading(false);\n\n       }).catch(()=>{\n           let formdata= new FormData();\n           formdata.append('email',user.email);\n           formdata.append('username',user.displayName);\n           formdata.append('secret',user.uid);\n\n           getFile(user.photoUrl).then((avatar)=>{\n               formdata.append('avatar',avatar,avatar.name);\n               axios.post('https://api.chatengine.io/users',formData,)\n           })\n       })\n\n   },[user,history]);\n    return (\n        <div>\n            <Header/>\n            <Button\n            color=\"gray\"\n            buttonType=\"outline\"\n            iconOnly={true}\n            rounded={true}\n            ripple=\"dark\"\n            onClick={handleLogout}\n            className=\"border-0\"\n            >Log Out\n                \n            </Button>\n            \n            <ChatEngine\n        height=\"100vh\"\n        projectID=\"f5c4182d-069e-4b2a-88ab-a1cfd27f671d\"\n        userName=\"sanyagoyal2000\"\n        userSecret=\"123123\"\n        \n\n        \n        />\n        </div>\n    )\n}\n\nexport default Chats\n"]},"metadata":{},"sourceType":"module"}